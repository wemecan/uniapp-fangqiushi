{"version":3,"sources":["webpack:///D:/uni-app/糗事/main.js","webpack:///D:/uni-app/糗事/pages/login/login.vue?5261","webpack:///D:/uni-app/糗事/pages/login/login.vue?52f3","webpack:///D:/uni-app/糗事/pages/login/login.vue?a59c","webpack:///D:/uni-app/糗事/pages/login/login.vue?a394","webpack:///D:/uni-app/糗事/pages/login/login.vue"],"names":["createPage","Page","data","a","b","methods","getUserInfo","e","console","log","detail","iv","uni","switchTab","url","success","res","userName","setStorageSync","userInfo","nickName","userLog","avatarUrl","login","res1","request","method","code","res2","zhuCe","encryptedData"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=f0ebf4fa&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('f0ebf4fa')) {\n      api.createRecord('f0ebf4fa', component.options)\n    } else {\n      api.reload('f0ebf4fa', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=f0ebf4fa&\", function () {\n      api.rerender('f0ebf4fa', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/uni-app/糗事/pages/login/login.vue\"\nexport default component.exports","export * from \"-!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=f0ebf4fa&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\电子书\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ta:'',\n\t\t\tb:''\n\t\t}\n\t},\n\tmethods:{\n\t\tgetUserInfo(e){\n\t\t\tconsole.log(e);\n\t\t\tif(e.detail.iv==''){//用户点击拒绝授权\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl:'../index/index',\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log('用户拒绝授权')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\t\tthis.a=e.detail;\n\t\t\tvar userName=uni.setStorageSync('userId',e.detail.userInfo.nickName);\n\t\t\tvar userLog=uni.setStorageSync('userId',e.detail.userInfo.avatarUrl);\n\t\t\tthis.login();\n\t\t\t}\n\t\t\n\t\t},\n\t\tlogin(){\n\t\t\tuni.login({\n\t\t\t\tsuccess(res1) {\n\t\t\t\t\tconsole.log(res1);//===>code\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl:'https://api.it120.cc/zhangjianbao/user/wxapp/login',\n\t\t\t\t\t\tmethod:'POST',\n\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\tcode:res1.code\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess(res2) {\n\t\t\t\t\t\t\tconsole.log(res2);//-->如果没有注册，就获取不到数据\n\t\t\t\t\t\t\tif(res2.data.code==10000){\n\t\t\t\t\t\t\t\tthis.zhuCe();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}else if(res2.data.code==0){\n\t\t\t\t\t\t\t\t// var openid=uni.setStorageSync('userId',e.detail.userInfo.nickNam);\n\t\t\t\t\t\t\t\t// var userName=uni.setStorageSync('userId',e.detail.userInfo.nickNam)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tzhuCe(){//注册\n\t\t\tuni.login({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl:'https://api.it120.cc/zhangjianbao/user/wxapp/register/complex',\n\t\t\t\t\t\tmethod:'POST',\n\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\tiv:this.a.iv,\n\t\t\t\t\t\t\tencryptedData:this.a.encryptedData,\n\t\t\t\t\t\t\tcode:res.code\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess(res1) {\n\t\t\t\t\t\t\tconsole.log(res1);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n"],"sourceRoot":""}